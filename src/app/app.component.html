  
  <a *ngIf="!isMobile">
  <!-- Menu -->
  <nav class="w3-sidenav w3-red w3-animate-left w3-collapse w3-top w3-large" id="mySidenav">
    <div class="w3-container w3-padding-16">
      <i (click)="w3_close()" class="fa fa-remove w3-hide-large w3-closebtn w3-hover-text-red"></i>
      <div style="text-align: center;">
        <h3>
          <a href="index.html" style="background: no-repeat;">TRANSCRIPTION</a>
        </h3>
        <input [(ngModel)]="searchText" id="searchRooms" class="w3-input w3-border" type="text" placeholder="ค้นหาห้อง...">
      </div>
    </div>
    <ul *ngFor="let data of rooms | filter : {title: searchText} ;let i = index"  id="menuViewer">
      <li (click)='getData(data.id)' class="listrooms" style="cursor: pointer;">
        <a>
        {{data.title}} <br>
        <font size="1"><!-- {{Stime[i][0]}} <br>-->  {{Stime[i][1]}} {{start_period[i]}} - {{Etime[i][1]}} {{end_period[i]}}</font> 
        <div [style.color]="status_color" style="font-size: 13px; ">
            {{status[i]}}
            <br>
            {{time_status[i]}}
        </div>
        </a>
        
      </li>
     

    </ul>
    
    <ul *ngIf="(rooms | filter : {title: searchText}).length == 0" id="menuViewer">
        <!-- Not found Rooms -->
            <h4 style="text-align: center">ไม่พบข้อมูล</h4>   
    </ul>
  </nav>
  <!-- Top menu on small screens -->
  <header class="w3-container w3-top w3-hide-large w3-red w3-xlarge w3-padding" style="z-index:3;">
    <a class="w3-btn w3-red w3-border w3-border-white w3-margin-right" (click)="w3_open()">☰</a>
    <span>TRANSCRIPTION</span>
  </header>

  <!-- Overlay effect when opening sidenav on small screens -->
  <div class="w3-overlay w3-hide-large" (click)="w3_close()" title="close side menu" id="myOverlay"></div>

  
  <router-outlet></router-outlet>

</a>
<!-- Menu -->
<a *ngIf="isMobile">
  <nav class="w3-sidenav w3-red w3-animate-left w3-collapse w3-top w3-large" id="mySidenav" style="width: 300px; font-weight: bold; display: block; z-index: 3;">
    <div class="w3-container w3-padding-16">
      <i class="fa fa-remove w3-hide-large w3-closebtn w3-hover-text-red" id="closemenu" (click)="w3_close()"></i>
      <div style="text-align: center;">
        <h3>
          <b>
            <span>TRANSCRIPTION</span>
          </b>
        </h3>
        <input class="w3-input w3-border" id="searchRooms" style="background: rgba(157, 129, 195, 0.03); color: white;" type="text" placeholder="ค้นหาห้อง...">
      </div>
    </div>
    <ul id="MenuViewer" style="list-style-type:none;padding-left: 0;"><li class="listrooms" id="695" style="border-bottom: 1px solid rgba(255, 255, 255, 0.19);"><a class="w3-padding w3-hover-white" style="font-size: 16px;" (click)="w3_close()" href="#">ตัวอย่างการแสดงผลข้อความ1<br><font size="1">4:57 PM&nbsp;-&nbsp;4:57 PM</font><div style="font-size: 13px;"><font color="gray">การถ่ายทอดสดสิ้นสุดแล้ว</font></div></a></li></ul>
    <!-- Error can't get Rooms -->
    <div class="w3-container" id="errorGetdata" style="text-align: center;display: none;">
      <h1>
        <b>อุปส์!</b>
      </h1>
      <p>เกิดข้อผิดพลาดระหว่างการเชื่อมต่อ โปรดลองใหม่อีกครั้ง</p>
      <button id="reconnectRooms">ลองใหม่</button>
    </div>
  </nav>
<!-- Top menu on small screens -->
<header class="w3-container w3-top w3-hide-large w3-red w3-xlarge w3-padding" id="header" style="z-index:3;">
  <a class="w3-btn w3-red w3-border w3-border-white w3-margin-right" id="showmenu" (click)="w3_open()" href="javascript:void(0)">☰</a>
  <span>TRANSCRIPTION</span>
</header>

<!-- Overlay effect when opening sidenav on small screens -->
<div title="close side menu" class="w3-overlay w3-hide-large" id="myOverlay" style="cursor:pointer" (click)="w3_close()"></div>
<!-- !PAGE CONTENT! -->

<div class="w3-main" style="margin-left:300px;margin-right:0px">
  <!-- Push down content on small screens -->
  <div class="w3-hide-large" id="pre_header_page" style="margin-top:70px"></div>

  <!-- Header -->
  <header class="w3-container" id="pre-header">
    <h3>
      <b id="title"></b>
    </h3>
    <div id="time"></div>
  </header>

  <!-- before viewer -->
  <section id="beforeStreaming" style="display: none;">
    <div class="w3-container">
      <div class="w3-row">
        <div class="w3-col m12">
          <div id="time2" style="color: green; font-size: 16px;"></div>
          <div>
            <i class="fa fa-check" aria-hidden="true" style="color: green;"></i> ภาพเคลื่อนไหวเสียงและคำบรรยาย</div>
          <button class="w3-button w3-ripple w3-red w3-hover-black" id="startViewer">เข้าชมตอนนี้</button>
        </div>
      </div>
      <hr>
    </div>
  </section>
  <!-- end before viewer -->

  <!-- FOR VIDEO + TEXT-->
  <section id="live-container" style="background-color: black; position: relative;width: 100%; height: 100%;display: none;">
    <div class="w3-display-topleft" id="statusStreaming" style="color: white;z-index: 1;background-color: rgba(217,83,79,1);padding: 2px 6px 0 6px;"></div>
    <div class="w3-display-topright" style="z-index: 1;">
      <button class="btn btn-danger" id="terminate_viewer">END</button>
    </div>
    <video id="video" style="width: 100%;height: 550px;" autoplay="">
      <!-- <source src="movie.mp4" type="video/mp4"> -->
    </video>
    <!--pointer-events: none; -->
    <div class="captioned-default" id="captioned" style="font-size: 30px;text-shadow: 4px 0 black, 0 4px black, 1px 0 black, 0 -1px black;"></div>
    <div class="w3-display-bottomright" id="option-video-mode" style=" bottom: 3%;right: 3%">
      <div class="w3-row  ">
        <select class="w3-hide-small" id="viewer-mode2" style="display: none;">
          <option value="video-text">ภาพเคลื่อนไหวเสียงและคำบรรยาย</option>
          <option value="text-only">คำบรรยาย</option>
        </select>
        <input class="w3-hide-small" id="input-font2" style="display: none;" type="text" size="1" maxlength="3" list="size">
        <button class="gallery-button" id="inc-font2" style="border: none; cursor: pointer;display: none;" onclick="settingIncFont()">A+</button>
        <button class="gallery-button1" id="dec-font2" style="border: none; cursor: pointer;display: none;" onclick="settingDecFont()">A-</button>
        <button class="gallery-button2" id="choice2" style="border: none; cursor: pointer;display: none;">ตัวเลือกเพิ่มเติม </button>
        <i class="fa fa-expand fa-lg" id="Fullscreen" aria-hidden="true" style="cursor: pointer;color: white;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: rgb(45,56,55);"></i>
        <i class="fa fa-compress fa-lg" id="exit_Fullscreen" aria-hidden="true" style="cursor: pointer;color: white; display: none;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: rgb(45,56,55);" onclick="FullscreenEnable()"></i>
      </div>
    </div>
  </section>
  <!-- END FOR VIDEO + TEXT-->

  <!-- OPTIONS MODE -->
  <div id="options" style="text-align: right;background-color: rgb(245, 245, 245);margin-bottom: 1%;display: none;">
    <div class="w3-row">
      <!-- <i id="btnSaveText" style="cursor: pointer;" class="fa fa-floppy-o fa-lg"></i> -->
      <select id="viewer-mode">
        <option value="video-text">ภาพเคลื่อนไหวเสียงและคำบรรยาย</option>
        <option value="text-only">คำบรรยาย</option>
      </select>
      <select id="change-font-family" onchange="settingFontFamily(this.value)">
        <option value="FreesiaUPC">FreesiaUPC</option>
        <option value="TH Niramit AS">Th Niramit AS</option>
        <option value="Angsana New">Angsana New</option>
        <option value="Cordia New">Cordia New</option>
      </select>
      <button class="jscolor {valueElement:null,value: '000000', onFineChange:'setTextColorFont(this)'}" id="set_font_color" style="border: medium; border-image: none; background-image: none; color: rgb(255, 255, 255); cursor: pointer; background-color: rgb(0, 0, 0);">A</button>
      <button class="jscolor {valueElement:null,value: '000000', onFineChange:'setTextColorBackground(this)'}" id="set_background_color" style="border: medium; border-image: none; background-image: none; color: rgb(255, 255, 255); cursor: pointer; background-color: rgb(0, 0, 0);">&nbsp;&nbsp;</button>
      <input id="input-font" type="text" size="1" maxlength="3" list="size">
      <datalist id="size">
        <option value="10"></option>
        <option value="16"></option>
        <option value="18"></option>
        <option value="22"></option>
        <option value="24"></option>
        <option value="26"></option>
        <option value="28"></option>
        <option value="36"></option>
        <option value="48"></option>
        <option value="72"></option>
        <option value="84"></option>
        <option value="96"></option>
        <option value="100"></option>
      </datalist>
      <button id="inc-font" style="border: none; cursor: pointer;" onclick="settingIncFont()">A+</button>
      <button id="dec-font" style="border: none; cursor: pointer;" onclick="settingDecFont()">A-</button>
      <button id="choice" style="border: none; cursor: pointer;display: none;">ตัวเลือกเพิ่มเติม </button>

    </div>
  </div>

  <!-- modal  -->
  <div class="modal" id="myModal">

    <!--   Modal content -->
    <div class="modal-content">
      <header class="modal-header">
        <span class="close" id="close_setting">×</span>
        <h3 align="left">ตัวเลือกเพิ่มเติม</h3>
      </header>

      <div class="ex-m" id="ex-bg-m" style="background-color: black; border: solid; position: relative;width: 100%; height: 100px;">
        <div id="ex-font-m" style="font-size: 30px;pointer-events: none;  color: white;"> ตัวอย่างการแสดงผล </div>
      </div>


      <footer class="w3-container">
        <div class="w3-row">
          <div id="size-font-m" style="border: none; cursor: pointer;">ขนาดตัวอักษร</div>

          <button id="AA-m" style="border: none; cursor: pointer;" onclick="settingIncFont()">A+</button>
          <button id="A-m" style="border: none; cursor: pointer;" onclick="settingDecFont()">A-</button>
        </div>
        <br>

        <div class="w3-row">
          <div id="watch-m" style="border: none; cursor: pointer;">การรับชม</div>
          <select id="viewer-mode-m" style="border: none; cursor: pointer;">
            <option value="video-text">ภาพเคลื่อนไหวเสียงและคำบรรยาย</option>
            <option value="text-only">คำบรรยาย</option>
          </select>
        </div>
        <br>


        <div class="w3-row">
          <div id="font-m" style="border: none; cursor: pointer;">ตัวอักษร</div>
          <select id="change-font-family-m" style="border: none; cursor: pointer;" onchange="settingFontFamily(this.value)">
            <option value="FreesiaUPC">FreesiaUPC</option>
            <option value="THNiramitAS">Th Niramit AS</option>
            <option value="AngsanaNew">Angsana New</option>
            <option value="CordiaNew">Cordia New</option>
          </select>
        </div>

        <br>


        <div class="w3-row">
          <div id="font-color-m" style="border: none; cursor: pointer;">สีอักษร</div>
          <button class="jscolor {valueElement:null,value: '#FFFFFF', onFineChange:'setTextColorFont(this)'}" id="set_font_color-m" style="border: ridge; border-image: none; background-image: none; color: rgb(0, 0, 0); cursor: pointer; background-color: rgb(255, 255, 255);">&nbsp;&nbsp;</button>
        </div>

        <br>

        <div class="w3-row">
          <div id="bgcolor-m" style="border: none; cursor: pointer;">สีพื้นหลัง</div>
          <button class="jscolor {valueElement:null,value: '000000', onFineChange:'setTextColorBackground(this)'}" id="set_background_color-m" style="border: medium; border-image: none; background-image: none; color: rgb(255, 255, 255); cursor: pointer; background-color: rgb(0, 0, 0);">&nbsp;&nbsp;</button>

        </div>
        <br>

        <div class="w3-row">
          <button class="w3-button w3-black" id="btnSaveText" style="border: none;cursor: pointer;font-size:18px;">save text</button>
        </div>
        <br>
      </footer>
    </div>

  </div>
  <!--   End madal-->
  <!-- Description -->
  <div class="w3-container" id="description" style="margin-top:0px;font-size: 24px"></div>
  <!-- End page content -->
  <!--Detect Browser -->
  <script type="text/javascript">
    var version = detectIE();

    var Browser, User = window.navigator.userAgent;

    if (version !== false) {
      console.log("Browser is Microsoft Edge and version number is  : " + version);
    }
    //Check if browser is Chrome or not
    else if (navigator.userAgent.search("Chrome") >= 0) {
      console.log("Browser is and Chrome");
    }
    //Check if browser is Firefox or not
    else if (navigator.userAgent.search("Firefox") >= 0) {
      console.log("Browser is FireFox");
    }
    //Check if browser is Safari or not
    else if (navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0) {
      console.log("Browser is Safari");
    }
    //Check if browser is Opera or not
    else if (navigator.userAgent.search("Opera") >= 0) {
      console.log("Browser is Opera");
    }

    function detectIE() {
      var ua = window.navigator.userAgent;

      var msie = ua.indexOf('MSIE ');
      if (msie > 0) {
        // IE 10 or older => return version number
        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
      }

      var trident = ua.indexOf('Trident/');
      if (trident > 0) {
        // IE 11 => return version number
        var rv = ua.indexOf('rv:');
        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
      }

      var edge = ua.indexOf('Edge/');
      if (edge > 0) {
        // Edge (IE 12+) => return version number
        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
      }
      // other browser
      return false;
    }



    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var choice = document.getElementById("choice");
    var choice2 = document.getElementById("choice2");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal 
    choice.onclick = function () {
      modal.style.display = "block";
      Android.setting();
    }

    choice2.onclick = function () {
      modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
      modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function () {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    //End modal

    //var setWidth = document.documentElement.clientWidth;
    //console.log(setWidth);
    function HideHam(value) {
      Android.HideHam(value);
    }
  </script>

</div>

</a>